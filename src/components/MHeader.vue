<template>
    <div class="MHeader">
        <div class="MHeaderWrapper">
            <div class="MHeaderBTN" id="MHeaderBurgerBTN"><svg viewBox="0 0 1000 1000">
                    <path d="M404.8,303.7c-114,0-228,0-342,0c-23.6,0-32.1-8.6-32.1-32.1c0-33.4,0-46.7,0-80.1c0-19.6,9.6-29.2,29.2-29.2
		c229.9,0,649.9,0,879.8,0c20.2,0,29.6,9.5,29.6,29.6c0,34.2,0.1,48.4,0,82.6c0,19.5-9.6,29.2-29.2,29.2
		C825,303.7,519.9,303.7,404.8,303.7z" />
                    <path d="M405,570.7c-114.3,0-228.5,0-342.8,0c-22.9,0-31.5-8.8-31.5-31.9c0-33.4,0-46.7,0-80.1c0-19.7,9.5-29.4,29-29.4
		c230.2,0,650.4,0,880.6,0c19.5,0,29,9.7,29,29.3c0.1,34.2,0.1,48.4,0,82.6c0,20-9.5,29.4-29.8,29.4
		C824.7,570.7,519.8,570.7,405,570.7z" />
                    <path d="M405.1,837.6c-114.3,0-228.5,0-342.8,0c-22.9,0-31.6-8.8-31.6-31.8c0-33.4,0-46.7,0-80.1c0-19.7,9.5-29.4,28.9-29.4
		c230.2,0,650.4,0,880.6,0c19.5,0,29,9.6,29.1,29.3c0.1,34.2,0.1,48.4,0,82.6c0,20-9.5,29.4-29.8,29.4
		C824.7,837.7,519.9,837.6,405.1,837.6z" />
                </svg></div>
            <div class="MHeaderPageTitle">{{ this.$route.meta.HeaderTitle }}</div>
            <div class="MHeaderBTN" id="MHeaderModeBTN"><svg viewBox="0 0 1000 1000">
                    <path
                        d="M565,25.2c3,0.5,6,1,9.1,1.4c14.3,2,25,8.8,29.5,23.1c4.4,13.9,0.4,26.7-12.2,36.1c-20.6,15.3-40.6,31.3-58.2,50.1
		c-49.5,53.1-80.2,115.4-90.1,187.2c-13.9,100.7,11.2,191.5,75.5,270c56,68.4,128.8,109.3,216.5,122.6
		c53.3,8.1,105.9,4.2,157.2-12.8c14.7-4.9,28.5-5.8,40.5,5.9c11.1,10.9,12.5,27.5,3.1,42.6c-32.5,52.3-73.5,96.8-123.3,133
		c-67.7,49.2-143.2,79-226.3,87.5C449.7,986,327.6,949,223,859.3C134.3,783.2,80,686.4,63.3,570.7
		C42.6,427.5,79.6,299.3,173.8,189.1c70.9-82.9,161-134.3,267.8-155.9c17.5-3.5,35.3-5.4,53-8C524.2,21.9,541,22.6,565,25.2z" />
                </svg></div>
        </div>
    </div>
</template>

<script>
export default {
    mounted() {

        // Check App Mode
        if (localStorage.getItem('AppMode') == 'Dark') {
            document.getElementById('MHeaderModeBTN').innerHTML = `<svg fill="#fff" viewBox="0 0 1000 1000">
                    <path
                        d="M565,25.2c3,0.5,6,1,9.1,1.4c14.3,2,25,8.8,29.5,23.1c4.4,13.9,0.4,26.7-12.2,36.1c-20.6,15.3-40.6,31.3-58.2,50.1
		c-49.5,53.1-80.2,115.4-90.1,187.2c-13.9,100.7,11.2,191.5,75.5,270c56,68.4,128.8,109.3,216.5,122.6
		c53.3,8.1,105.9,4.2,157.2-12.8c14.7-4.9,28.5-5.8,40.5,5.9c11.1,10.9,12.5,27.5,3.1,42.6c-32.5,52.3-73.5,96.8-123.3,133
		c-67.7,49.2-143.2,79-226.3,87.5C449.7,986,327.6,949,223,859.3C134.3,783.2,80,686.4,63.3,570.7
		C42.6,427.5,79.6,299.3,173.8,189.1c70.9-82.9,161-134.3,267.8-155.9c17.5-3.5,35.3-5.4,53-8C524.2,21.9,541,22.6,565,25.2z" />
                </svg>`;
                document.querySelector('body').classList.add('DarkMode');
        } else {
            document.getElementById('MHeaderModeBTN').innerHTML = `<svg viewBox="0 0 1000 1000">
	<path d="M983.1,511c-10.2,26.5-24.6,36.5-52.7,36.5c-23.2,0-46.4,0.2-69.7-0.1c-27.7-0.3-47.9-20.4-48-47.3
		c-0.1-27.6,19.9-47.9,48.1-48.2c23.2-0.3,46.4-0.1,69.7-0.1c28.1,0,42.5,10,52.7,36.5C983.1,495.9,983.1,503.5,983.1,511z"/>
	<path d="M511.6,16.9c26.4,10,36.5,24.6,36.5,52.7c0,22.9,0.2,45.8,0,68.7c-0.2,28.8-20.4,49.1-48.3,49c-27.1-0.1-47.1-20.6-47.3-49
		c-0.2-22.9-0.1-45.8,0-68.7c0.1-28.1,10.2-42.6,36.5-52.7C496.5,16.9,504.1,16.9,511.6,16.9z"/>
	<path d="M499.9,256.6c133.2,1.4,242.9,105.5,243.1,243c0.2,134.8-106.9,242.8-242.7,242.9C367.8,742.6,258.4,638,257.6,500.4
		C256.8,368.8,360.8,259.1,499.9,256.6z"/>
	<path d="M245.2,292.9c-12.6,0.1-23.5-4.3-32.4-13c-18.6-18.3-37.2-36.4-55.2-55.3c-18.4-19.3-17.7-48.6,0.7-67
		c18.4-18.4,47.8-19,67-0.5c19,18.2,37.7,36.8,55.8,56c13.8,14.6,16.3,32.5,8.4,50.7C281.4,282.8,266.1,292.6,245.2,292.9z"/>
	<path d="M246.1,706.5c20,0.7,34.9,10.1,43.1,28.2c7.9,17.4,6.7,35.2-6.4,49.4c-19.5,21.2-39.9,41.7-61.2,61.2
		c-17.5,16-46.3,13.6-63.4-3.5c-17.1-17-19.7-45.8-3.7-63.3c19.4-21.3,40.4-41.3,61.1-61.3C223.9,709.2,234.6,706.2,246.1,706.5z"/>
	<path d="M707.1,754.3c0.4-20.5,10.1-35.5,28.6-43.7c17.8-7.9,35.7-6.1,50.1,7.4c20.6,19.3,40.7,39.2,59.8,60
		c16.1,17.4,14,46.1-2.9,63.4c-16.8,17.2-45.5,20-63.3,4.3c-21.9-19.2-42.2-40.4-62-61.8C709.9,775.8,706.9,765.5,707.1,754.3z"/>
	<path d="M755,292.9c-20-0.6-35-9.7-43.4-27.8c-8.2-17.7-6.9-35.7,6.4-50.2c19.3-21,39.5-41.3,60.5-60.6c17.9-16.4,46.9-14,64,3.5
		c17.2,17.5,19,46.3,2.5,64.1c-19,20.4-39.1,39.9-59.1,59.3C777.6,289.6,766.8,293,755,292.9z"/>
	<path d="M548.1,898c0,13.2,0.3,26.4-0.1,39.5c-0.7,25.8-21.8,45.7-47.9,45.6c-26-0.1-47.1-20.1-47.5-46c-0.4-26.3-0.4-52.7,0-79.1
		c0.4-26.5,21.5-46.1,48.3-46c26.1,0.2,46.5,20.1,47.1,46.3C548.3,871.6,548.1,884.8,548.1,898z"/>
	<path d="M102.4,547.5c-13.2,0-26.4,0.3-39.6-0.1c-25.9-0.6-45.9-21.6-45.9-47.7c0-26.1,20-47.2,45.9-47.7c26.4-0.4,52.8-0.4,79.2,0
		c26,0.4,45.9,21.5,45.9,47.7c0,26.2-19.9,47.1-45.9,47.7C128.8,547.7,115.6,547.5,102.4,547.5z"/>
                </svg>`;
            document.querySelector('body').classList.remove('DarkMode');
        }

        document.getElementById('MHeaderBurgerBTN').addEventListener('click', function () {
            document.querySelector('.MSidebar').classList.toggle('CollapsedMSidebar');
            document.querySelector('.MainContent').classList.toggle('FullMainContent');
            document.querySelector('.MHeader').classList.toggle('FullMHeader');
            document.querySelector('.MSidebarBody').style.display = 'flex';
        });

        document.getElementById('MHeaderModeBTN').addEventListener('click', function () {
            if (document.querySelector('body').classList.contains("DarkMode")) {
                document.getElementById('MHeaderModeBTN').innerHTML = `<svg viewBox="0 0 1000 1000">
	<path d="M983.1,511c-10.2,26.5-24.6,36.5-52.7,36.5c-23.2,0-46.4,0.2-69.7-0.1c-27.7-0.3-47.9-20.4-48-47.3
		c-0.1-27.6,19.9-47.9,48.1-48.2c23.2-0.3,46.4-0.1,69.7-0.1c28.1,0,42.5,10,52.7,36.5C983.1,495.9,983.1,503.5,983.1,511z"/>
	<path d="M511.6,16.9c26.4,10,36.5,24.6,36.5,52.7c0,22.9,0.2,45.8,0,68.7c-0.2,28.8-20.4,49.1-48.3,49c-27.1-0.1-47.1-20.6-47.3-49
		c-0.2-22.9-0.1-45.8,0-68.7c0.1-28.1,10.2-42.6,36.5-52.7C496.5,16.9,504.1,16.9,511.6,16.9z"/>
	<path d="M499.9,256.6c133.2,1.4,242.9,105.5,243.1,243c0.2,134.8-106.9,242.8-242.7,242.9C367.8,742.6,258.4,638,257.6,500.4
		C256.8,368.8,360.8,259.1,499.9,256.6z"/>
	<path d="M245.2,292.9c-12.6,0.1-23.5-4.3-32.4-13c-18.6-18.3-37.2-36.4-55.2-55.3c-18.4-19.3-17.7-48.6,0.7-67
		c18.4-18.4,47.8-19,67-0.5c19,18.2,37.7,36.8,55.8,56c13.8,14.6,16.3,32.5,8.4,50.7C281.4,282.8,266.1,292.6,245.2,292.9z"/>
	<path d="M246.1,706.5c20,0.7,34.9,10.1,43.1,28.2c7.9,17.4,6.7,35.2-6.4,49.4c-19.5,21.2-39.9,41.7-61.2,61.2
		c-17.5,16-46.3,13.6-63.4-3.5c-17.1-17-19.7-45.8-3.7-63.3c19.4-21.3,40.4-41.3,61.1-61.3C223.9,709.2,234.6,706.2,246.1,706.5z"/>
	<path d="M707.1,754.3c0.4-20.5,10.1-35.5,28.6-43.7c17.8-7.9,35.7-6.1,50.1,7.4c20.6,19.3,40.7,39.2,59.8,60
		c16.1,17.4,14,46.1-2.9,63.4c-16.8,17.2-45.5,20-63.3,4.3c-21.9-19.2-42.2-40.4-62-61.8C709.9,775.8,706.9,765.5,707.1,754.3z"/>
	<path d="M755,292.9c-20-0.6-35-9.7-43.4-27.8c-8.2-17.7-6.9-35.7,6.4-50.2c19.3-21,39.5-41.3,60.5-60.6c17.9-16.4,46.9-14,64,3.5
		c17.2,17.5,19,46.3,2.5,64.1c-19,20.4-39.1,39.9-59.1,59.3C777.6,289.6,766.8,293,755,292.9z"/>
	<path d="M548.1,898c0,13.2,0.3,26.4-0.1,39.5c-0.7,25.8-21.8,45.7-47.9,45.6c-26-0.1-47.1-20.1-47.5-46c-0.4-26.3-0.4-52.7,0-79.1
		c0.4-26.5,21.5-46.1,48.3-46c26.1,0.2,46.5,20.1,47.1,46.3C548.3,871.6,548.1,884.8,548.1,898z"/>
	<path d="M102.4,547.5c-13.2,0-26.4,0.3-39.6-0.1c-25.9-0.6-45.9-21.6-45.9-47.7c0-26.1,20-47.2,45.9-47.7c26.4-0.4,52.8-0.4,79.2,0
		c26,0.4,45.9,21.5,45.9,47.7c0,26.2-19.9,47.1-45.9,47.7C128.8,547.7,115.6,547.5,102.4,547.5z"/>
                </svg>`;
                document.querySelector('body').classList.remove('DarkMode');
                localStorage.setItem('AppMode', 'Light');
            } else {
                document.getElementById('MHeaderModeBTN').innerHTML = `<svg fill="#fff" viewBox="0 0 1000 1000">
                    <path
                        d="M565,25.2c3,0.5,6,1,9.1,1.4c14.3,2,25,8.8,29.5,23.1c4.4,13.9,0.4,26.7-12.2,36.1c-20.6,15.3-40.6,31.3-58.2,50.1
		c-49.5,53.1-80.2,115.4-90.1,187.2c-13.9,100.7,11.2,191.5,75.5,270c56,68.4,128.8,109.3,216.5,122.6
		c53.3,8.1,105.9,4.2,157.2-12.8c14.7-4.9,28.5-5.8,40.5,5.9c11.1,10.9,12.5,27.5,3.1,42.6c-32.5,52.3-73.5,96.8-123.3,133
		c-67.7,49.2-143.2,79-226.3,87.5C449.7,986,327.6,949,223,859.3C134.3,783.2,80,686.4,63.3,570.7
		C42.6,427.5,79.6,299.3,173.8,189.1c70.9-82.9,161-134.3,267.8-155.9c17.5-3.5,35.3-5.4,53-8C524.2,21.9,541,22.6,565,25.2z" />
                </svg>`;
                document.querySelector('body').classList.add('DarkMode');
                localStorage.setItem('AppMode', 'Dark');
            }
        });
    }
}
</script>

<style scoped>
.MHeader {
    display: flex;
    backdrop-filter: blur(5px);
    position: fixed;
    top: 0;
    left: 15px;
    padding-top: 10px;
    width: calc(100% - 280px);
    transition-duration: 0.3s;
    z-index: 3;
}

.FullMHeader {
    width: calc(100% - 30px);
}

.MHeaderWrapper {
    display: flex;
    width: 100%;
    height: 60px;
    background-color: var(--MHeaderBGColor);
    box-shadow: 0 2px 5px 1px #0000001a;
    border-radius: 5px;
    align-items: center;
}

.MHeaderBTN {
    display: flex;
    width: 20px;
    padding: 10px 10px;
    border-radius: 5px;
    margin: 0 10px;
    cursor: pointer;
    transition-duration: 0.3s;
}
.MHeaderBTN svg {
    fill: var(--TextColor);
    width: 100%;
    display: flex;
    justify-content: center;
    align-items: center;
}
.MHeaderBTN:hover {
    background-color: var(--MHeaderBTNHover);
}

.MHeaderPageTitle {
    display: flex;
    flex: 1;
    white-space: nowrap;
    justify-content: center;
    color: var(--TextColor);
    font-size: 16px;
    font-family: 'MFontB';
}

@media only screen and (max-width: 700px) {
    .MHeader:not(.FullMHeader) {
        width: calc(100% - 30px);
    }
}
</style>